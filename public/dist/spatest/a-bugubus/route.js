angular.module("app",["ionic","ion-datetime-picker","ngAnimate","ionic-datepicker"]).run(function($rootScope,$ionicPlatform,$ionicPickerI18n,$location,$state){$rootScope.session={user:window.global.config.user},$ionicPlatform.ready(function(){$ionicPickerI18n.weekdays=["日","一","二","三","四","五","六"],$ionicPickerI18n.months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],$ionicPickerI18n.ok="确认",$ionicPickerI18n.cancel="取消",$ionicPickerI18n.okClass="button-positive",$ionicPickerI18n.cancelClass="button-stable"}),$rootScope.$on("$stateChangeStart",function(event,toState,toStateParams){if(console.log(">>>>>>>>>>>>>>>>路由切换>>>>>>>>>>>>>>>>"),console.log(toState),console.log(toStateParams),(-1!=toState.name.indexOf("i.")||-1!=toState.name.indexOf("search")||-1!=toState.name.indexOf("myplan")||-1!=toState.name.indexOf("bus_service1")||-1!=toState.name.indexOf("bus_service_history"))&&void 0==$rootScope.session.user.userInfo){event.preventDefault();var url="/"+toState.name.replace(".","/");if(toStateParams){var paramStr="",i=0;for(var key in toStateParams){var value=toStateParams[key];i>0&&void 0!=value?paramStr+="&":"",void 0!=value?paramStr+=key+"="+value:"",i++}url=encodeURIComponent(""!=paramStr?url+="?"+paramStr:url)}$state.go("auth.login",{url:url},{location:"replace"})}})}).config(function($stateProvider,$urlRouterProvider,$ionicConfigProvider,ionicDatePickerProvider){var datePickerObj={inputDate:new Date,titleLabel:"选择日期",setLabel:"选择",todayLabel:"今天",closeLabel:"返回",mondayFirst:!1,weeksList:["日","一","二","三","四","五","六"],monthsList:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],templateType:"popup",showTodayButton:!1,dateFormat:"yyyy-MM-dd",closeOnSelect:!0,disableWeekdays:[]};ionicDatePickerProvider.configDatePicker(datePickerObj),$ionicConfigProvider.platform.ios.tabs.style("standard"),$ionicConfigProvider.platform.ios.tabs.position("top"),$ionicConfigProvider.platform.android.tabs.style("standard"),$ionicConfigProvider.platform.android.tabs.position("top"),$ionicConfigProvider.platform.ios.navBar.alignTitle("center"),$ionicConfigProvider.platform.android.navBar.alignTitle("center"),$ionicConfigProvider.platform.ios.backButton.previousTitleText("").icon("ion-ios-arrow-thin-left"),$ionicConfigProvider.platform.android.backButton.previousTitleText("").icon("ion-android-arrow-back"),$ionicConfigProvider.platform.ios.views.transition("ios"),$ionicConfigProvider.platform.android.views.transition("android");var basePath="a-bugubus/";$urlRouterProvider.otherwise("/search"),$stateProvider.state("auth",{"abstract":!0,url:"/auth",template:'<div ui-view class="fadeInUp animated"></div>'}).state("auth.login",{url:"/login?url",templateUrl:basePath+"tpl/login.html"}).state("select_location",{url:"/select_location/{params}/{status}",templateUrl:basePath+"tpl/select-location.html"}).state("select_address",{url:"/select_address/{params}",templateUrl:basePath+"tpl/select-address.html"}).state("create_route",{url:"/create_route?openid&java",templateUrl:basePath+"tpl/create-route.html"}).state("create_route_success",{url:"/create_route_success",templateUrl:basePath+"tpl/create-route-success.html"}).state("schedule_will_open",{url:"/schedule_will_open",templateUrl:basePath+"tpl/schedule-will-open.html"}).state("schedule_opened",{url:"/schedule_opened",templateUrl:basePath+"tpl/schedule-opened.html"}).state("ticket",{"abstract":!0,url:"/ticket",template:'<div ui-view class="fadeInUp animated"></div>'}).state("ticket.month",{url:"/month",templateUrl:basePath+"tpl/ticket_month.html"}).state("ticket.pay",{url:"/pay?bsid&chargingtype&staddr&edaddr&addprice&addtime",templateUrl:basePath+"tpl/schedule-ticket-pay.html"}).state("ticket.daypay",{url:"/daypay?bsid&chargingtype",templateUrl:basePath+"tpl/schedule-ticketday-pay.html"}).state("ticket.detail",{url:"/detail?ticketid",templateUrl:basePath+"tpl/ticket_detail.html"}).state("ticket.store",{url:"/store",templateUrl:basePath+"tpl/ticket_store.html"}).state("schedule",{"abstract":!0,url:"/schedule",template:'<div ui-view class="fadeInUp animated"></div>'}).state("schedule.detail",{url:"/detail?stopStationobj",templateUrl:basePath+"tpl/schedule-detail.html"}).state("schedule.detail2",{url:"/detail2?bsid&mode&chargingtype",templateUrl:basePath+"tpl/schedule-detail2.html"}).state("i",{"abstract":!0,url:"/i",template:'<div ui-view class="fadeInUp animated"></div>'}).state("i.user",{url:"/user",templateUrl:basePath+"tpl/i-user.html"}).state("signup_success",{url:"/signup_success?goBsid&backBsid",templateUrl:basePath+"tpl/signup-success.html"}).state("order",{"abstract":!0,url:"/order",template:'<div ui-view class="fadeInUp animated"></div>'}).state("order.list",{url:"/list",templateUrl:basePath+"tpl/pay-order-list.html"}).state("ticket.recharge",{url:"/recharge",templateUrl:basePath+"tpl/ticket_recharge.html"}).state("ticket.recharge2",{url:"/recharge2",templateUrl:basePath+"tpl/ticket_recharge_2.html"}).state("ticket.pay_success",{url:"/pay_success?orderList",templateUrl:basePath+"tpl/schedule-ticket-pay-success.html"}).state("bus_service1",{url:"/bus_service1",templateUrl:basePath+"tpl/bus_service_1.html"}).state("bus_service_mess",{url:"/bus_service2?usermessobj",templateUrl:basePath+"tpl/bus_service_2.html"}).state("bus_service_all",{url:"/bus_service_all?charterid&caseStatus",templateUrl:basePath+"tpl/bus_service_3.html"}).state("bus_submit_success",{url:"/bus_submit_success?charterid&caseStatus",templateUrl:basePath+"tpl/bus_service_success.html"}).state("bus_service_history",{url:"/bus_service_history",templateUrl:basePath+"tpl/bus_service_history.html"}).state("bus_service_pay",{url:"/bus_service_pay?totalfee&charterid",templateUrl:basePath+"tpl/bus_service_pay.html"}).state("sight_recommend_list",{url:"/sight_recommend_list",templateUrl:basePath+"tpl/sight_recommend_list.html"}).state("sight_details_list",{url:"/sight_details_list",templateUrl:basePath+"tpl/sight_details_list.html"}).state("sight_details_page",{url:"/sight_details_page",templateUrl:basePath+"tpl/sight_details_page.html"}).state("sight_pay",{url:"/sight_pay",templateUrl:basePath+"tpl/sight_pay.html"}).state("select_city",{url:"/select_city",templateUrl:basePath+"tpl/select_city.html"}).state("search",{url:"/search",templateUrl:basePath+"tpl/jqztc_search.html"}).state("tabs",{url:"/tabs",cache:!0,params:{data:null},templateUrl:basePath+"tpl/jqztc_tab1.html"}).state("test",{url:"/test",templateUrl:basePath+"tpl/jqztc_test.html"}).state("order_confirm_pay",{url:"/order_confirm_pay",params:{data:null},templateUrl:basePath+"tpl/jqztc_order_confirm_pay.html"}).state("order_detail_refund",{url:"/order_detail_refund",params:{data:null},templateUrl:basePath+"tpl/jqztc_order_detail_refund.html"}).state("order_check_comment",{url:"/order_check_comment",params:{data:null,isCommented:null,isCommentedText:null,isCommentedScore:null},templateUrl:basePath+"tpl/jqztc_order_check_comment.html"}).state("myplan",{url:"/myplan",templateUrl:basePath+"tpl/jqztc_myplan.html"}).state("ticket_detail",{"abstract":!0,url:"/ticket_detail",template:'<div ui-view class="fadeInUp animated"></div>'}).state("ticket_detail.ticketdetail",{url:"/ticketdetail",cache:!0,params:{data:null},templateUrl:basePath+"tpl/jqztc_ticket_detail.html"}).state("ticket_detail.bus_position",{url:"/bus_position",params:{data:null},templateUrl:basePath+"tpl/jqztc_bus_position.html"}).state("ticket_admission_detail",{url:"/ticket_admission_detail",params:{data:null},templateUrl:basePath+"tpl/jqztc_admission_ticket_detail.html"})});