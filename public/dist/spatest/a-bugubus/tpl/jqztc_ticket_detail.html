<ui-view ng-controller="ticket_detail">
<style>
    
        .station-address {
            display: inline-block;
            font-size: 17px;
            margin-left: 5px;
            font-weight: bold;
        }
    
    </style>
<div class="jqztc-order-detail">
<ion-content has-tabs="true">
<div class="notice2" >
<p>1、发车前1小时以上，可申请全额退款，超时或已验票后，无法退款。</p>
<p>2、遇天气原因或其他不可抗拒因素而不能发车的，都可申请全额退款。</p>
</div>
<div ng-if="ticketInfo.viewOrderStatus == 2">
<ion-list>
<ion-item style="padding: 0;">
<div class="detail">
<div class="row startposition">
<div class="col">
<span class="station-mark-orange" style="margin-left: 10px;">车票</span>
<span class="station-address">{{ticketInfo.departName}}</span>
<span class="station-arrow"></span>
<span class="station-address2">{{ticketInfo.arriveName}}</span>
</div>
</div>
<div class="row info " style="padding-left: 8px;">
<div class="col" style="margin-left: 10px;">
<span>
<div class="btnfont" style="color: #0c60ee;">{{ticketInfo.platenum}}</div>
</span>
<span class="btnfont5">
单程约{{ticketInfo.drivetime}}分钟</span></div>
</div>
<div class="row refund">
<div class="col col-70">
<div style="margin: 0 0 8px 8px;white-space: normal;" >发车地点: {{ticketInfo.departaddr}}</div>
<div style="margin: 0 0 -8px 8px;white-space: normal;" >出发日期: {{ticketInfo.departDate | date:'yyyy-MM-dd'}} {{ticketInfo.departTime}}</div>
</div>
</div>
<div class="row" >
<div class="col" style="text-align: right;">
<button ng-if="!isCheckedTicket" ng-disabled="refundBtnState" class="button" style="line-height: 2;margin-right: 20px;font-size: 17px;color: #e42112;border: 1px solid black;background: white;min-width:0;min-height: 0;height: 40px;width: 80px;border-radius: 3px;" ng-click="refund()">
退款</button>
</div>
</div><div class="row" style="text-align: center;">
<div class="col col-33">
<i class="icon ion-location" style="color: #2196F3;font-size: 16px;"></i>
<span ng-click="getBusPosition()">车辆位置</span>
</div>
<div class="col col-33">
<i class="icon ion-headphone" style="color: #4CAF50;"></i>
<a href="tel:18302505303" style="text-decoration:none;"><span>联系客服</span></a></div>
<div class="col col-33">
<span>实付 ￥{{ticketInfo.payPrice}}</span>
</div>
</div>
</div>
</ion-item>
</ion-list>
<div style="text-align: center;">
<div class="row">
<div class="col">
<i class="icon ion-checkmark-circled" style="color: #47bd4c;font-size: 22px;"></i>
<span ng-if="!isCheckedTicket" class="btnfont11 ">已付款<span style="color:#e42112;">待乘车</span></span>
<span ng-if="isCheckedTicket" class="btnfont11" style="color:#e42112;">已验票</span>
</div>
</div>
<div class="row" ng-if="!isCheckedTicket">
<div class="col">
<span class="btnfont11">上车请出示条形码!</span>
</div>
</div>
<div class="row" ng-if="!isCheckedTicket">
<div class="col">
<canvas ng-model="ticketInfo.barcode" barcode></canvas>
</div>
</div>
</div>
</div>
<div ng-if="ticketInfo.viewOrderStatus == 4">
<ion-list>
<ion-item style="padding: 0;">
<div class="detail">
<div class="row startposition">
<div class="col">
<span class="station-mark-orange" style="margin-left: 10px;">车票</span>
<span class="station-address">{{ticketInfo.departName}}</span>
<span class="station-arrow"></span>
<span class="station-address2">{{ticketInfo.arriveName}}</span>
</div>
</div>
<div class="row info " style="padding-left: 8px;">
<div class="col" style="margin-left: 10px;">
<span>
<div class="btnfont" style="color: #0c60ee;">{{ticketInfo.platenum}}</div>
</span>
<span class="btnfont5">
单程约{{ticketInfo.drivetime}}分钟</span></div>
</div>
<div class="row refund">
<div class="col col-70">
<div style="margin: 0 0 8px 8px;white-space: normal;" >发车地点: {{ticketInfo.departaddr}}</div>
<div style="margin: 0 0 -8px 8px;white-space: normal;" >出发日期: {{ticketInfo.departDate | date:'yyyy-MM-dd'}} {{ticketInfo.departTime}}</div>
</div>
</div>
<div class="row" >
<div class="col" style="text-align: right;">
<button ng-disabled="true" class="button" style="line-height: 2;margin-right: 20px;font-size: 17px;color:#000;border: 1px solid black;background: white;min-width:0;min-height: 0;height: 40px;width: 80px;border-radius: 3px;">
退款中</button>
</div>
</div><div class="row" style="text-align: center;margin-left: 8px;">
<div class="col col-33">
<i class="icon ion-android-notifications-none" style="color:deeppink"></i>
退款金额 ￥{{ticketInfo.payPrice}}</div>
<div class="col col-33">
<i class="icon ion-headphone" style="color: #4CAF50;"></i>
<a href="tel:18302505303" style="text-decoration:none;"><span>联系客服</span></a></div>
</div>
</div>
</ion-item>
</ion-list>
</div>
<div ng-if="ticketInfo.viewOrderStatus == 5">
<ion-list>
<ion-item style="padding: 0;">
<div class="detail">
<div class="row startposition">
<div class="col">
<span class="station-mark-orange" style="margin-left: 10px;">车票</span>
<span class="station-address">{{ticketInfo.departName}}</span>
<span class="station-arrow"></span>
<span class="station-address2">{{ticketInfo.arriveName}}</span>
</div>
</div>
<div class="row info " style="padding-left: 8px;">
<div class="col" style="margin-left: 10px;">
<span>
<div class="btnfont" style="color: #0c60ee;">{{ticketInfo.platenum}}</div>
</span>
<span class="btnfont5">
单程约{{ticketInfo.drivetime}}分钟</span></div>
</div>
<div class="row refund">
<div class="col col-70">
<div style="margin: 0 0 8px 8px;white-space: normal;" >发车地点: {{ticketInfo.departaddr}}</div>
<div style="margin: 0 0 -8px 8px;white-space: normal;" >出发日期: {{ticketInfo.departDate | date:'yyyy-MM-dd'}} {{ticketInfo.departTime}}</div>
</div>
</div>
<div class="row" >
<div class="col" style="text-align: right;">
<button class="button" style="line-height: 2;margin-right: 20px;font-size: 17px;color:#e42112;border: 1px solid black;background: white;min-width:0;min-height: 0;height: 40px;width: 70px;border-radius: 3px;">
已退款</button>
</div>
</div><div class="row" style="text-align: center;">
<div class="col col-33">
<i class="icon ion-android-notifications-none" style="color:deeppink"></i>
退款金额 ￥{{ticketInfo.payPrice}}</div>
<div class="col col-33">
<i class="icon ion-headphone" style="color: #4CAF50;"></i>
<a href="tel:18302505303" style="text-decoration:none;"><span>联系客服</span></a></div>
</div>
</div>
</ion-item>
</ion-list>
</div>
</ion-content>
</div>
</ui-view>